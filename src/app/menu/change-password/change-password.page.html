<ion-header class="common-header bg-white no-shadow">
  <div (click)="back()" slot="start" class="back left ion-activatable">
    <ng-icon name="lucideChevronLeft"></ng-icon>
    <ion-ripple-effect></ion-ripple-effect>
  </div>
</ion-header>
<ion-content
  mode="ios"
  class="ion-padding ion-text-center"
  style="--padding-top: 50px"
  [fullscreen]="true"
>
  <div class="heading">
    <h3>Ganti Password</h3>
    <p>Inputkan Password Baru Anda</p>
  </div>

  <ion-item class="input-outline" lines="none">
    <ng-icon size="18" name="lucideLock"></ng-icon>
    <ion-input
      [type]="showPassword ? 'text' : 'password'"
      placeholder="Password Baru"
      [(ngModel)]="password"
    ></ion-input>

    <ng-icon
      slot="end"
      size="20"
      (click)="showPassword = !showPassword"
      [name]="showPassword ? 'heroEyeSlashMini' : 'heroEyeMini'"
    ></ng-icon>
  </ion-item>
  <ion-item class="input-outline" lines="none">
    <ng-icon size="18" name="lucideLockKeyhole"></ng-icon>
    <ion-input
      [type]="showConfirmPassword ? 'text' : 'password'"
      placeholder="Konfirmasi Password"
      [(ngModel)]="confirm_password"
    ></ion-input>

    <ng-icon
      slot="end"
      size="20"
      (click)="showConfirmPassword = !showConfirmPassword"
      [name]="showConfirmPassword ? 'heroEyeSlashMini' : 'heroEyeMini'"
    ></ng-icon>
  </ion-item>

  <div
    *ngIf="password !== confirm_password && confirm_password && password"
    class="alert danger ion-margin-bottom"
  >
    Konfirmasi Password Tidak Sama
  </div>

  <ion-button
    shape="round"
    (click)="onSubmit()"
    [disabled]="formLoading || (password !== '' && confirm_password !== '' && password !== confirm_password)"
    expand="block"
  >
    <ion-spinner *ngIf="formLoading" name="crescent"></ion-spinner>
    <span *ngIf="!formLoading">Submit</span>
  </ion-button>
</ion-content>
