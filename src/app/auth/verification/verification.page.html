<ion-header class="common-header bg-white no-shadow">
  <div (click)="close()" slot="start" class="back left ion-activatable">
    <ng-icon name="lucideChevronLeft"></ng-icon>
    <ion-ripple-effect></ion-ripple-effect>
  </div>
  <ion-title>Verifikasi</ion-title>
</ion-header>
<ion-content [fullscreen]="true" mode="ios" class="ion-padding ion-text-center">
  <div class="heading">
    <h3>Input 4 Digit Kode Verifikasi</h3>
    <p>Kami sudah mengirimkan kode verifikasi ke email {{ email }}</p>
  </div>

  <div class="verif-section">
    <ion-row>
      <ion-col size="3">
        <ion-item class="input-outline verification-input" lines="none">
          <ion-input
            #input1
            (keyup)="onKeyUp($event, 1, input1)"
            [maxlength]="1"
            [value]="otp.substring(0, 1)"
            type="number"
          ></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="3">
        <ion-item class="input-outline verification-input" lines="none">
          <ion-input
            #input2
            [maxlength]="1"
            type="number"
            (keyup)="onKeyUp($event, 2, input2)"
            [value]="otp.substring(1, 2)"
          ></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="3">
        <ion-item class="input-outline verification-input" lines="none">
          <ion-input
            #input3
            [maxlength]="1"
            type="number"
            (keyup)="onKeyUp($event, 3, input3)"
            [value]="otp.substring(2, 3)"
          ></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="3">
        <ion-item class="input-outline verification-input" lines="none">
          <ion-input
            #input4
            [maxlength]="1"
            type="number"
            (keyup)="onKeyUp($event, 4, input4)"
            [value]="otp.substring(3, 4)"
          ></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
  </div>

  <div class="count-down">
    <h2><countdown #cd [config]="config" (event)="handleEvent($event)" /></h2>
  </div>

  <ion-button
    (click)="submit()"
    shape="round"
    color="primary"
    expand="block"
    [disabled]="disabled || formLoading"
  >
    <ion-spinner *ngIf="formLoading" name="crescent"></ion-spinner>

    <span *ngIf="!formLoading"> Kirim </span>
  </ion-button>

  <div class="resend">
    <p class="login">
      Tidak menerima kode ?
      <a href="javascript:void(0)" (click)="resend()">Kirim Ulang</a>
    </p>
  </div>
</ion-content>
